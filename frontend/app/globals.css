@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@theme {
  --color-background: #ffffff;
  --color-foreground: #0d0d0d;
  --color-muted: #f5f5f5;
  --color-muted-foreground: #666666;
  --color-border: #d1d1d1;
  --spacing-content-offset: 11rem;
  --spacing-section: 26px;
}

@media (min-width: 768px) {
  :root {
    --spacing-section: 36px;
  }
}

.dark {
  --color-background: #0d0d0d;
  --color-foreground: #ffffff;
  --color-muted: #1a1a1a;
  --color-muted-foreground: #999999;
  --color-border: #2e2e2e;
}

@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    @apply border-border;
  }

  html {
    overflow-x: clip;
  }

  body {
    margin: 0;
    font-size: 14px;
    line-height: 20px;
    overflow-x: clip;
    @apply bg-background text-foreground antialiased;
  }

  @media (min-width: 768px) {
    body {
      font-size: 15px;
    }
  }

  ::selection {
    @apply bg-foreground text-background;
  }
}

:root {
  /* Grid gap value (gap-x-14 = 56px) */
  --grid-gap: 56px;
  /* Divider offset: extends left by ~70% of the gap to meet vertical line (measured: ~39px) */
  --divider-offset: calc(var(--grid-gap) * 0.7);
}

@layer components {
  /* Layout */
  .page-grid {
    @apply grid grid-cols-1 md:grid-cols-3 gap-x-14;
  }

  /* Typography */
  .text-label {
    @apply uppercase;
  }

  .text-small {
    font-size: 12px;
  }

  @media (min-width: 768px) {
    .text-small {
      font-size: 13px;
    }
  }

  /*
   * Horizontal divider from vertical grid line to right viewport edge.
   * The vertical line position (from grid-lines.tsx):
   *   - Default: left-5 (1.25rem)
   *   - min-[1150px]: left-[calc(50%-var(--spacing-content-offset))]
   *   - min-[1550px]: left-1/2
   *
   * The content is in a 3-column grid with gap-x-14 (56px).
   * We need to extend the divider left to meet the vertical line.
   */
  .divider-right {
    position: relative;
    overflow: visible;
  }

  .divider-right::before {
    content: "";
    position: absolute;
    top: 0;
    left: -30px;
    right: calc(-100vw + 100%);
    height: 1px;
    background-color: var(--color-border);
    pointer-events: none;
    display: none;
  }

  /* At md+, show divider on col-span-2 elements */
  @media (min-width: 768px) {
    .divider-right::before {
      display: block;
      left: calc(-1 * var(--divider-offset));
    }
  }

  /* Mobile divider - shows on mobile, hidden on desktop */
  .divider-mobile {
    position: relative;
    overflow: visible;
  }

  .divider-mobile::before {
    content: "";
    position: absolute;
    top: 0;
    left: -15px;
    right: calc(-100vw + 100%);
    height: 1px;
    background-color: var(--color-border);
    pointer-events: none;
  }

  @media (min-width: 768px) {
    .divider-mobile::before {
      display: none;
    }
  }
}
